{% extends 'app_web/layout/page_layout.html' %}

{% block navtabs %}
    {% include 'app_web_admin/navigation/app_admin_navtabs.html' %}
{% endblock %}

{% block content %}
    {{super()}}

    <div class="container">
      <h4>DB Import Status</h4>
      <div class="table-responsive">
      <table class="bg-dark">
        <thead>
            <th class="p-2 bg-dark text-white">&nbsp;</th>
            <th class="p-2 bg-secondary text-white">data_class</th>
            <th class="p-2 bg-secondary text-white">import_class</th>
            <th class="p-2 bg-secondary text-white">data_count</th>
            <th class="p-2 bg-secondary text-white">import_count</th>
            <th class="p-2 bg-secondary text-white">file_count</th>
            <th class="p-2 bg-secondary text-white">&nbsp;</th>
            <th class="p-2 bg-secondary text-white">&nbsp;</th>
            <th class="p-2 bg-secondary text-white">&nbsp;</th>
        </thead>
        <tbody>
        <tr>
            <th class="p-2 bg-secondary text-white">WHO</th>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['WHO']['data_class'] }}
            </td>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['WHO']['import_class'] }}
            </td>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['WHO']['data_count'] }}
            </td>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['WHO']['import_count'] }}
            </td>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['WHO']['file_count'] }}
            </td>
            <td class="p-2">
              <a class="btn btn-secondary"
                 href="{{ url_for( 'who.url_task_who_update') }}" role="button">
                <i class="fas fa-play-circle"></i> who-update
              </a>
            </td>
            <td class="p-2">
              <a class="btn btn-secondary"
                 href="{{ url_for( 'who.url_task_who_import_files') }}" role="button">
                <i class="fas fa-play-circle"></i> who-import
              </a>
            </td>
            <td class="p-2">
              <a class="btn btn-secondary"
                 href="{{ url_for( 'who.url_download_files') }}" role="button">
                <i class="fas fa-play-circle"></i> who-download
              </a>
            </td>
        </tr>
        <tr>
            <th class="p-2 bg-secondary text-white">OWID</th>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['OWID']['data_class'] }}
            </td>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['OWID']['import_class'] }}
            </td>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['OWID']['data_count'] }}
            </td>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['OWID']['import_count'] }}
            </td>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['OWID']['file_count'] }}
            </td>
            <td class="p-2">
              <a class="btn btn-secondary"
                 href="{{ url_for( 'owid.url_task_owid_update') }}" role="button">
                <i class="fas fa-play-circle"></i> owid-update
              </a>
            </td>
            <td class="p-2">
              <a class="btn btn-secondary"
                 href="{{ url_for( 'owid.url_task_owid_import') }}" role="button">
                <i class="fas fa-play-circle"></i> owid-import
              </a>
            </td>
            <td class="p-2">
              <a class="btn btn-secondary"
                 href="{{ url_for( 'owid.url_task_owid_download') }}" role="button">
                <i class="fas fa-play-circle"></i> owid-download
              </a>
            </td>
        </tr>
        <tr>
            <th class="p-2 bg-secondary text-white">ECDC</th>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['ECDC']['data_class'] }}
            </td>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['ECDC']['import_class'] }}
            </td>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['ECDC']['data_count'] }}
            </td>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['ECDC']['import_count'] }}
            </td>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['ECDC']['file_count'] }}
            </td>
            <td class="p-2">
              <a class="btn btn-secondary"
                 href="{{ url_for( 'ecdc.url_task_ecdc_update') }}" role="button">
                <i class="fas fa-play-circle"></i> ecdc-update
              </a>
            </td>
            <td class="p-2">
              <a class="btn btn-secondary"
                 href="{{ url_for( 'ecdc.url_ecdc_task_import') }}" role="button">
                <i class="fas fa-play-circle"></i> ecdc-import
              </a>
            </td>
            <td class="p-2">
              <a class="btn btn-secondary"
                 href="{{ url_for( 'ecdc.url_ecdc_task_download') }}" role="button">
                <i class="fas fa-play-circle"></i> ecdc-download
              </a>
            </td>
        </tr>
        <tr>
            <th class="p-2 bg-secondary text-white">Vaccination</th>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['Vaccination']['data_class'] }}
            </td>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['Vaccination']['import_class'] }}
            </td>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['Vaccination']['data_count'] }}
            </td>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['Vaccination']['import_count'] }}
            </td>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['Vaccination']['file_count'] }}
            </td>
            <td class="p-2">
              <a class="btn btn-secondary"
                 href="{{ url_for( 'vaxx.url_task_vaccination_update') }}"
                 role="button">
                <i class="fas fa-play-circle"></i> vacc-update
              </a>
            </td>
            <td class="p-2">
              <a class="btn btn-secondary"
                 href="{{ url_for( 'vaxx.url_task_vaccination_import') }}"
                 role="button">
                <i class="fas fa-play-circle"></i> vacc-import
              </a>
            </td>
            <td class="p-2">
              <a class="btn btn-secondary"
                 href="{{ url_for( 'vaxx.url_task_vaccination_download') }}"
                 role="button">
                <i class="fas fa-play-circle"></i> vacc-download
              </a>
            </td>
        </tr>
        <tr class="m-2">
            <th class="p-2 bg-secondary text-white">RKI</th>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['RKI']['data_class'] }}
            </td>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['RKI']['import_class'] }}
            </td>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['RKI']['data_count'] }}
            </td>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['RKI']['import_count'] }}
            </td>
            <td class="p-2 bg-dark text-white">
              {{ db_import_status['RKI']['file_count'] }}
            </td>
            <td class="p-2">
              <p>
              <a class="btn btn-secondary"
                 href="{{ url_for( 'rki.url_task_rki_update_dimension_tables') }}"
                 role="button">
                <i class="fas fa-play-circle"></i> rki-update-dimensions
              </a>
              </p><p>
              <a class="btn btn-secondary"
                 href="{{ url_for( 'rki.url_task_rki_update_fact_table') }}"
                 role="button">
                <i class="fas fa-play-circle"></i> rki-update-data
              </a>
              </p>
            </td>
            <td class="p-2">
              <a class="btn btn-secondary"
                 href="{{ url_for( 'rki.url_task_rki_import') }}" role="button">
                <i class="fas fa-play-circle"></i> rki-import
              </a>
            </td>
            <td class="p-2">
              <a class="btn btn-secondary"
                 href="{{ url_for( 'rki.url_task_rki_download') }}" role="button">
                <i class="fas fa-play-circle"></i> rki-download
              </a>
            </td>
        </tr>
        <tr>
          <td colspan="9" class="p-2">&nbsp;</td>
        </tr>
        <tr>
          <td colspan="6" class="p-2">&nbsp;</td>
          <td class="p-2">
            <a class="btn btn-secondary"
               href="{{ url_for( 'data_all.url_task_all_update') }}" role="button">
              <i class="fas fa-play-circle"></i> all-update
            </a>
          </td>
          <td class="p-2">
            <a class="btn btn-secondary"
               href="{{ url_for( 'data_all.url_task_all_import') }}" role="button">
              <i class="fas fa-play-circle"></i> all-import
            </a>
          </td>
          <td class="p-2">
            <a class="btn btn-secondary"
               href="{{ url_for( 'data_all.url_task_all_download') }}" role="button">
              <i class="fas fa-play-circle"></i> all-download
            </a>
          </td>
        </tr>
        </tbody>
      </table>
      </div>
    </div>
{% endblock %}

{% block footer_container %}

{% endblock %}
